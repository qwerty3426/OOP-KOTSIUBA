–î–æ–º–∞—à–Ω—è —Ä–æ–±–æ—Ç–∞ ‚Ññ2 ‚Äî LSP: –ø—Ä–∏–∫–ª–∞–¥–∏ –ø–æ—Ä—É—à–µ–Ω—å

üîπ –û–ø–∏—Å

LSP (Liskov Substitution Principle) ‚Äî –ø—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤–∞: –ø—ñ–¥–∫–ª–∞—Å–∏ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ –±–∞–∑–æ–≤—ñ –∫–ª–∞—Å–∏ –±–µ–∑ –∑–º—ñ–Ω–∏ –æ—á—ñ–∫—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.

–ü—Ä–æ–±–ª–µ–º–∞:

–Ø–∫—â–æ –ø—ñ–¥–∫–ª–∞—Å –∑–º—ñ–Ω—é—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—É –∞–±–æ –≤–∏–∫–ª–∏–∫–∞—î –ø–æ–º–∏–ª–∫–∏, —Ç–æ –∫–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ –±–∞–∑–æ–≤–∏–º –∫–ª–∞—Å–æ–º, –ª–∞–º–∞—î—Ç—å—Å—è.

–¶–µ —Ä–æ–±–∏—Ç—å —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–ª–∞—Å—ñ–≤ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ —ñ —Å–∫–ª–∞–¥–Ω–∏–º–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

üîπ –ü–æ–≥–∞–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ (–ø–æ—Ä—É—à–µ–Ω–Ω—è LSP)
–ü—Ä–∏–∫–ª–∞–¥ 1: –ü—Ç–∞—Ö–∏
class Bird
{
    public virtual void Fly()
    {
        Console.WriteLine("–Ø –ª–µ—á—É!");
    }
}

class Penguin : Bird
{
    public override void Fly()
    {
        throw new Exception("–ü—ñ–Ω–≥–≤—ñ–Ω–∏ –Ω–µ –º–æ–∂—É—Ç—å –ª—ñ—Ç–∞—Ç–∏");
    }
}


–ü—Ä–æ–±–ª–µ–º–∞:

Penguin –Ω–µ –º–æ–∂–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ Bird –±–µ–∑ –ø–æ–º–∏–ª–∫–∏.

–ö–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ Bird, –ª–∞–º–∞—î—Ç—å—Å—è –¥–ª—è –ø—ñ–Ω–≥–≤—ñ–Ω—ñ–≤.

–ü—Ä–∏–∫–ª–∞–¥ 2: –ë–∞–Ω–∫—ñ–≤—Å—å–∫—ñ —Ä–∞—Ö—É–Ω–∫–∏
class Account
{
    public virtual void Withdraw(decimal amount)
    {
        Console.WriteLine("–ó–Ω—è—Ç–æ –≥—Ä–æ—à—ñ");
    }
}

class FixedDeposit : Account
{
    public override void Withdraw(decimal amount)
    {
        throw new Exception("–ù–µ –º–æ–∂–Ω–∞ –∑–Ω—ñ–º–∞—Ç–∏ –≥—Ä–æ—à—ñ –¥–æ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—É");
    }
}


–ü—Ä–æ–±–ª–µ–º–∞:

FixedDeposit –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –æ—á—ñ–∫—É–≤–∞–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É Withdraw.

–ö–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ Account, –º–æ–∂–µ –∑–ª–∞–º–∞—Ç–∏—Å—è.

üîπ –Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è LSP)

–†–æ–∑–¥—ñ–ª—è—î–º–æ –∫–ª–∞—Å–∏, —â–æ–± –ø—ñ–¥–∫–ª–∞—Å–∏ –Ω–µ –ª–∞–º–∞–ª–∏ –±–∞–∑–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É:

–ü—Ç–∞—Ö–∏
class Bird { }

class FlyingBird : Bird
{
    public virtual void Fly()
    {
        Console.WriteLine("–Ø –ª–µ—á—É!");
    }
}

class Penguin : Bird { }

–ë–∞–Ω–∫—ñ–≤—Å—å–∫—ñ —Ä–∞—Ö—É–Ω–∫–∏
class Account { }

class WithdrawableAccount : Account
{
    public virtual void Withdraw(decimal amount)
    {
        Console.WriteLine("–ó–Ω—è—Ç–æ –≥—Ä–æ—à—ñ");
    }
}

class FixedDeposit : Account { }


–¢–µ–ø–µ—Ä:

–≤—Å—ñ –ø—ñ–¥–∫–ª–∞—Å–∏ –±–µ–∑–ø–µ—á–Ω–æ –∑–∞–º—ñ–Ω—é—é—Ç—å –±–∞–∑–æ–≤—ñ –∫–ª–∞—Å–∏;

–∫–æ–¥, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ –±–∞–∑–æ–≤–∏–º–∏ –∫–ª–∞—Å–∞–º–∏, –Ω–µ –≤–∏–∫–ª–∏–∫–∞—î –ø–æ–º–∏–ª–æ–∫;

–ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∞.

üîπ –í–∏—Å–Ω–æ–≤–æ–∫

–ü–æ—Ä—É—à–µ–Ω–Ω—è LSP —Ä–æ–±–∏—Ç—å –ø—ñ–¥–∫–ª–∞—Å–∏ –Ω–µ–±–µ–∑–ø–µ—á–Ω–∏–º–∏ –¥–ª—è –∑–∞–º—ñ–Ω–∏ –±–∞–∑–æ–≤–∏—Ö –∫–ª–∞—Å—ñ–≤.
–î–æ—Ç—Ä–∏–º–∞–Ω–Ω—è LSP –∑–∞–±–µ–∑–ø–µ—á—É—î:

–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É;

–ª–µ–≥–∫–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è;

–≥–Ω—É—á–∫—ñ—Å—Ç—å —Ç–∞ –±–µ–∑–ø–µ—á–Ω—É —ñ—î—Ä–∞—Ä—Ö—ñ—é –∫–ª–∞—Å—ñ–≤.